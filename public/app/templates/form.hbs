<div id="main" class="form">
<form id="create">
    <div class="left formTitle">
        Title
    </div>
    <div class="left formContent">
        <input type="text" name="title" value="{{title}}">
    </div>
    <div class="clear"></div>
    <div class="left formTitle">
        Description
    </div>
    <div class="left formContent">
        <textarea rows="10" cols="70" name="description">{{description}}</textarea>
    </div>
    <div class="clear"></div>
    <div class="left formTitle">
        Importance
    </div>
    <div class="left formContent">
        <ul class="importance">
            <li class="left importance_pas"></li>
            <li class="left importance_pas"></li>
            <li class="left importance_pas"></li>
            <li class="left importance_pas"></li>
            <li class="left importance_pas"></li>
        </ul>
        <input type="hidden" name="rate" id="rate" value="{{rate}}">
    </div>
    <div class="clear"></div>
    <div class="left formTitle">
        Due date
    </div>
    <div class="left formContent"><input type="date" value="{{date}}" name="date" min="today">
    </div>
    <div class="clear"></div>
    <div class="left formContent">&nbsp;</div>
    <div class="left formTitle"><button>Cancel</button>&nbsp;<button>Save</button></div>
    {{modus}}

    <script>

        function paintRate(rate){
            $('.importance li').removeClass('importance_act');
            $('.importance li').addClass('importance_pas');
            for(i=rate;i>0;i--){
                $('.importance li:nth-child(' + i + ')').toggleClass('importance_act');
            }
        }
        // get value and paint
        paintRate($('#rate').val());

        $('.importance li').click(function() {
            rateValue = $(this).index()+1;
            $('#rate').val(rateValue);
            paintRate(rateValue);
        });

        $('.importance li').hover(function(){
            rateValue = $(this).index()+1;
            paintRate(rateValue);
        });


    </script>
</form>
</div>
